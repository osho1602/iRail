<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TT Verification Portal</title>
  <link href="https://fonts.googleapis.com/css2?family=Salsa&display=swap" rel="stylesheet">
  <link rel="icon" href="Images/iRail logo 1.png" />
  <style>
    * {
      margin: 0; padding: 0;
      box-sizing: border-box;
      font-family: "Salsa", cursive;
    }

    body {
      background: #f9f9f9;
      color: #222;
    }

    header {
      background: #fff;
      padding: 20px;
      text-align: center;
      border-bottom: 4px solid #ff8800;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }

    header h1 {
      font-size: 32px;
      color: #222;
    }
    header p {
      font-size: 16px;
      color: #ff8800;
    }

    .rules {
      background: #fff;
      margin: 20px auto;
      padding: 20px;
      border-radius: 10px;
      max-width: 900px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.08);
    }

    .rules h2 {
      text-align: center;
      margin-bottom: 15px;
      color: #ff8800;
    }

    .rules ul {
      margin-left: 20px;
      line-height: 1.8;
      color: #333;
    }

    .verify-container {
      max-width: 600px;
      margin: 30px auto;
      padding: 30px;
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 3px 12px rgba(0,0,0,0.1);
      text-align: center;
    }

    .verify-container h2 {
      margin-bottom: 20px;
      color: #333;
    }

    input, button {
      width: 90%;
      padding: 12px;
      margin: 10px 0;
      border-radius: 6px;
      border: 1px solid #ccc;
      font-size: 16px;
    }

    input {
      outline: none;
      transition: 0.2s;
    }

    input:focus {
      border-color: #ff8800;
      box-shadow: 0 0 5px rgba(255,136,0,0.5);
    }

    button {
      background: linear-gradient(45deg, #ff8800, #ffb347);
      color: white;
      font-weight: bold;
      cursor: pointer;
      border: none;
      transition: 0.3s;
    }

    button:hover {
      transform: scale(1.05);
      background: linear-gradient(45deg, #ff6600, #ffa64d);
    }

    #scanner {
      margin-top: 20px;
      border: 2px dashed #ff8800;
      border-radius: 10px;
    }

    #result {
      margin-top: 20px;
      font-size: 18px;
      font-weight: bold;
    }

    footer {
      margin-top: 40px;
      padding: 15px;
      background: #222;
      text-align: center;
      color: #fff;
      font-size: 14px;
    }

    .bubble{
    position:absolute;
    width:10px;
    height:10px;
    border-radius:50%;
    background: rgba(135,206,250,0.6); /* sky blue bubble */
    pointer-events:none;
    mix-blend-mode: lighten;
    animation: fadeOut 1s forwards;
}

@keyframes fadeOut{
    0%{
      transform: scale(1);
      opacity:1;
    }
    100%{
      transform: scale(2);
      opacity:0;
    }
}

/* Chatbot Icon */
#chatbot-icon {
  position: fixed;
  bottom: 20px;
  right: 20px;
  width: 50px;
  height: 50px;
  background: #1A2233;
  color: white;
  font-size: 28px;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;
  z-index: 10000;
  box-shadow: 0 4px 15px rgba(0,0,0,0.3);
}

/* Chatbox */
#chatbot-box {
  position: fixed;
  bottom: 80px;
  right: 20px;
  width: 300px;
  height: 350px;
  background: #0F1725;
  color: white;
  border-radius: 10px;
  box-shadow: 0 4px 15px rgba(0,0,0,0.3);
  display: none;
  flex-direction: column;
  overflow: hidden;
  font-family: "Salsa", cursive;
}

#chatbot-header {
  background: #1A2233;
  padding: 10px;
  font-weight: bold;
  text-align: center;
}

#chatbot-messages {
  flex: 1;
  padding: 10px;
  overflow-y: auto;
}

.message {
  margin: 5px 0;
  padding: 8px 12px;
  border-radius: 12px;
  max-width: 80%;
}

.message.bot { background: #334155; color: white; align-self: flex-start; }
.message.user { background: skyblue; color: #0F1725; align-self: flex-end; }

#chatbot-input-section {
  display: flex;
  border-top: 1px solid #334155;
}

#chatbot-input {
  flex: 1;
  padding: 8px;
  border: none;
  outline: none;
  background: #0F1725;
  color: white;
}

#sendButton {
  width: 70px;
  border: none;
  background: #FF8800;
  color: white;
  cursor: pointer;
}


  </style>
</head>
<body>

  <header>
    <h1>TT Verification Portal</h1>
    <p>‡§ü‡•Ä‡§ü‡•Ä ‡§∏‡§§‡•ç‡§Ø‡§æ‡§™‡§® ‡§™‡•ã‡§∞‡•ç‡§ü‡§≤ (Official Government Style Demo)</p>
  </header>

  <section class="rules">
    <h2>Rules & Guidelines / ‡§®‡§ø‡§Ø‡§Æ ‡§µ ‡§®‡§ø‡§∞‡•ç‡§¶‡•á‡§∂</h2>
    <ul>
      <li>Only authorized Ticket Examiners (TT) can be verified here. / ‡§ï‡•á‡§µ‡§≤ ‡§Ö‡§ß‡§ø‡§ï‡•É‡§§ ‡§ü‡§ø‡§ï‡§ü ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§ï (‡§ü‡•Ä‡§ü‡•Ä) ‡§ï‡§æ ‡§∏‡§§‡•ç‡§Ø‡§æ‡§™‡§® ‡§ï‡§ø‡§Ø‡§æ ‡§ú‡§æ ‡§∏‡§ï‡§§‡§æ ‡§π‡•à‡•§</li>
      <li>Fake IDs will be reported immediately. / ‡§´‡§∞‡•ç‡§ú‡•Ä ‡§Ü‡§à‡§°‡•Ä ‡§ï‡•Ä ‡§§‡•Å‡§∞‡§Ç‡§§ ‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü ‡§ï‡•Ä ‡§ú‡§æ‡§è‡§ó‡•Ä‡•§</li>
      <li>Please verify TT identity before paying any fine. / ‡§ï‡•É‡§™‡§Ø‡§æ ‡§ï‡•ã‡§à ‡§≠‡•Ä ‡§ú‡•Å‡§∞‡•ç‡§Æ‡§æ‡§®‡§æ ‡§¶‡•á‡§®‡•á ‡§∏‡•á ‡§™‡§π‡§≤‡•á ‡§ü‡•Ä‡§ü‡•Ä ‡§ï‡•Ä ‡§™‡§π‡§ö‡§æ‡§® ‡§∏‡§§‡•ç‡§Ø‡§æ‡§™‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç‡•§</li>
      <li>Complaints can be submitted against unauthorized TTs. / ‡§Ö‡§µ‡•à‡§ß ‡§ü‡•Ä‡§ü‡•Ä ‡§ï‡•á ‡§ñ‡§ø‡§≤‡§æ‡§´ ‡§∂‡§ø‡§ï‡§æ‡§Ø‡§§ ‡§¶‡§∞‡•ç‡§ú ‡§ï‡•Ä ‡§ú‡§æ ‡§∏‡§ï‡§§‡•Ä ‡§π‡•à‡•§</li>
    </ul>
  </section>

  <section class="verify-container">
    <h2>Verify Ticket Examiner / ‡§ü‡§ø‡§ï‡§ü ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§ï ‡§ï‡§æ ‡§∏‡§§‡•ç‡§Ø‡§æ‡§™‡§® ‡§ï‡§∞‡•á‡§Ç</h2>
    <input type="text" id="ttName" placeholder="Enter TT Name / ‡§®‡§æ‡§Æ ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç">
    <input type="text" id="ttId" placeholder="Enter TT ID / ‡§Ü‡§à‡§°‡•Ä ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç">
    <button onclick="verifyTT()">Verify Now / ‡§∏‡§§‡•ç‡§Ø‡§æ‡§™‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç</button>

    <h3 style="margin-top:20px; color:#ff8800;">Or Scan QR Code / ‡§Ø‡§æ ‡§ï‡•ç‡§Ø‡•Ç‡§Ü‡§∞ ‡§ï‡•ã‡§° ‡§∏‡•ç‡§ï‡•à‡§® ‡§ï‡§∞‡•á‡§Ç</h3>
    <button onclick="startScanner()">Start Scanner / ‡§∏‡•ç‡§ï‡•à‡§®‡§∞ ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡•á‡§Ç</button>
    <video id="scanner" width="100%" style="display:none;" autoplay></video>

    <div id="result"></div>
  </section>

  <!-- Chatbot Icon -->
<div id="chatbot-icon">ü§ñ</div>

<!-- Chatbot Box -->
<div id="chatbot-box">
  <div id="chatbot-header">iRail Assistant</div>
  <div id="chatbot-messages">
    <div class="message bot">Hi! Ask me anything about Indian Railways / ‡§∞‡•á‡§≤‡§µ‡•á ‡§∏‡•á ‡§∏‡§µ‡§æ‡§≤ ‡§™‡•Ç‡§õ‡•á‡§Ç‡•§</div>
  </div>
  <div id="chatbot-input-section">
    <input type="text" id="chatbot-input" placeholder="Type your question...">
    <button id="sendButton">Send</button>
  </div>
</div>


  <footer>
    ¬© 2025 TT Verification Portal  
  </footer>

  <script src="https://unpkg.com/html5-qrcode"></script>
  <script>
    function verifyTT() {
      const name = document.getElementById("ttName").value.trim();
      const id = document.getElementById("ttId").value.trim();
      const result = document.getElementById("result");

      if (name.toLowerCase() === "rahul kumar" && id === "TT12345") {
        result.style.color = "green";
        result.innerText = "‚úÖ Verified: This is an Authorized TT / ‡§Ö‡§ß‡§ø‡§ï‡•É‡§§ ‡§ü‡•Ä‡§ü‡•Ä ‡§π‡•à‡•§";
      } else {
        result.style.color = "red";
        result.innerText = "‚ùå Fraud Detected: Not a valid TT / ‡§Ø‡§π ‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§ü‡•Ä‡§ü‡•Ä ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à‡•§";
      }
    }

    function startScanner() {
      const video = document.getElementById("scanner");
      video.style.display = "block";
      
      const html5QrCode = new Html5Qrcode("scanner");
      html5QrCode.start(
        { facingMode: "environment" }, 
        { fps: 10, qrbox: 250 },
        (decodedText) => {
          document.getElementById("result").innerText = "‚úÖ Scanned: " + decodedText;
          document.getElementById("result").style.color = "green";
          html5QrCode.stop();
        }
      ).catch(err => {
        console.error("QR Scanner error: ", err);
      });
    }

    // Mouse bubble trail
document.addEventListener('mousemove', function(e){
    createBubble(e.pageX, e.pageY);
});

function createBubble(x, y){
    const bubble = document.createElement('div');
    bubble.classList.add('bubble');
    bubble.style.left = (x - 5) + 'px';
    bubble.style.top = (y - 5) + 'px';
    document.body.appendChild(bubble);

    // remove bubble after animation
    setTimeout(() => {
        bubble.remove();
    }, 1000); // match with fadeOut animation
}

const chatbotIcon = document.getElementById("chatbot-icon");
const chatbotBox = document.getElementById("chatbot-box");
const chatbotInput = document.getElementById("chatbot-input");
const sendButton = document.getElementById("sendButton");
const chatMessages = document.getElementById("chatbot-messages");

// Toggle chatbox
chatbotIcon.addEventListener("click", () => {
  chatbotBox.style.display = chatbotBox.style.display === "flex" ? "none" : "flex";
  chatbotBox.style.flexDirection = "column";
  chatbotInput.focus();
});

// iRail offline responses
const iRailFAQ = {
  "train schedule": "Check train schedule: www.indianrail.gov.in / ‡§ü‡•ç‡§∞‡•á‡§® ‡§∂‡•á‡§°‡•ç‡§Ø‡•Ç‡§≤ ‡§¶‡•á‡§ñ‡•á‡§Ç‡•§",
  "fine": "Use iRail Fine Calculator / iRail Fine Calculator ‡§∏‡•á ‡§∏‡§ü‡•Ä‡§ï ‡§ú‡•Å‡§∞‡•ç‡§Æ‡§æ‡§®‡§æ ‡§¶‡•á‡§ñ‡•á‡§Ç‡•§",
  "tt fraud": "File TT fraud complaints in iRail Complaint section / TT ‡§´‡•ç‡§∞‡•â‡§° ‡§∂‡§ø‡§ï‡§æ‡§Ø‡§§ ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç‡•§",
  "complaint": "Submit complaints in iRail Complaint section / iRail Complaint ‡§∏‡•á‡§ï‡•ç‡§∂‡§® ‡§Æ‡•á‡§Ç ‡§∂‡§ø‡§ï‡§æ‡§Ø‡§§ ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç‡•§",
  "contact": "Indian Railways Helpline: 139 / ‡§à‡§Æ‡•á‡§≤: info@indianrail.gov.in",
  "emergency": "For emergencies contact railway police at 100 / ‡§Ü‡§™‡§æ‡§§‡§ï‡§æ‡§≤‡•Ä‡§® ‡§∏‡§π‡§æ‡§Ø‡§§‡§æ: ‡§∞‡•á‡§≤‡§µ‡•á ‡§™‡•Å‡§≤‡§ø‡§∏ 100‡•§"
};

// Send message
function sendMessage() {
  const userMsg = chatbotInput.value.trim();
  if (!userMsg) return;

  addMessage(userMsg, "user");
  chatbotInput.value = '';

  let botMsg = "Sorry! I can't answer this question yet / ‡§Æ‡•Å‡§ù‡•á ‡§ú‡§µ‡§æ‡§¨ ‡§®‡§π‡•Ä‡§Ç ‡§™‡§§‡§æ‡•§";
  for (let key in iRailFAQ) {
    if (userMsg.toLowerCase().includes(key)) {
      botMsg = iRailFAQ[key];
      break;
    }
  }

  setTimeout(() => addMessage(botMsg, "bot"), 300);
}

// Add message
function addMessage(msg, sender) {
  const div = document.createElement("div");
  div.className = `message ${sender}`;
  div.textContent = msg;
  chatMessages.appendChild(div);
  chatMessages.scrollTop = chatMessages.scrollHeight;
}

// Events
sendButton.addEventListener("click", sendMessage);
chatbotInput.addEventListener("keypress", (e) => { if (e.key === "Enter") sendMessage(); });

  </script>
</body>
</html>
